<% content_for :title, @exercise.title %>

<% if notice %>
  <div class="mb-4 p-3 rounded-md bg-green-100 text-green-800 text-sm">
    <%= notice %>
  </div>
<% end %>

<div class="bg-white p-6 rounded-lg shadow-md">
  <h1 class="text-2xl font-semibold text-gray-800 mb-4"><%= @exercise.title %></h1>

  <% if @exercise.description.present? %>
    <div class="mb-6">
      <h2 class="text-md font-semibold text-gray-700 mb-1">Description</h2>
      <p class="text-gray-700 leading-relaxed"><%= simple_format(@exercise.description) %></p>
    </div>
  <% end %>

  <% if @exercise.media.attached? %>
    <div class="mb-6">
      <h2 class="text-md font-semibold text-gray-700 mb-1">Media</h2>
      <% if @exercise.media.content_type.starts_with?('image/') %>
        <%= image_tag @exercise.media, class: "max-w-full rounded shadow" %>
      <% elsif @exercise.media.content_type.starts_with?('video/') %>
        <video controls class="w-full max-w-2xl rounded shadow">
          <source src="<%= url_for(@exercise.media) %>" type="<%= @exercise.media.content_type %>">
          Your browser does not support the video tag.
        </video>
      <% else %>
        <p class="text-gray-500">Unsupported media type.</p>
      <% end %>
    </div>
  <% end %>
</div>

<div class="flex flex-wrap items-center gap-4 mt-6">
  <%= link_to "Edit Exercise", edit_exercise_path(@exercise),
    class: "underline text-blue-600 text-sm font-medium hover:text-blue-800" %>

  <%= link_to "Back to Exercises", exercises_path,
    class: "underline text-blue-600 text-sm font-medium hover:text-blue-800" %>

  <%= button_to "Delete", @exercise,
    method: :delete,
    data: { confirm: "Are you sure?" },
    class: "text-sm text-red-600 hover:text-red-800 bg-white border border-red-600 px-3 py-1 rounded-md transition" %>
</div>
